/* ===== A4・印刷設定 ===== */
@page {
  size: A4;
  margin: 15mm 12mm; /* Set page margins */

  @bottom-right {
    content: counter(page) " / " counter(pages);
    font-family: "Noto Sans JP","Yu Gothic","Meiryo",system-ui,sans-serif;
    font-size: 9pt;
    color: var(--ink-400);
  }
}
* { box-sizing: border-box; }
html, body { height: 100%; }
body.print-a4 {
  margin: 0;
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  font-family: "Noto Sans JP","Yu Gothic","Meiryo",system-ui,sans-serif;
  color: #0b1420;
}

/* カラートークン（近似） */
:root{
  --blue-700:#0653ab; --blue-600:#002354; --blue-100:#eaf2ff;
  --ink-900:#0b1420;  --ink-600:#5a6b84;  --ink-400:#7f8ea4;
  --line:#e7edf5;     --panel:#ffffff;    --bg:#f3f6fb;

  --red-600:#aa0e0e;  --red-050:#fdeeee;
  --amber-600:#d99712;--amber-050:#fff3de;
  --green-600:#0ca614;--green-050:#eaf7ea;
  /* 固定メタ幅（右側の事業所/氏名エリア） */
  --meta-width: 32ch;
}

/* A4 1枚のシート */
.sheet{
  display:grid; gap:4mm;
  align-content: start;
  page-break-after: always;
}

/* ===== ヘッダー（青帯） ===== */
.topbar{
  background: linear-gradient(90deg, var(--blue-700), var(--blue-600));
  color:#fff; border-radius:6px; padding:6mm 8mm;
  /* タイトル（左）とメタ（右）を固定2カラムで配置 */
  display:grid; grid-template-columns: 1fr var(--meta-width); align-items:center;
}
.topbar__title{ margin:0; font-size:16pt; font-weight:800; letter-spacing:.02em; white-space: nowrap; }
.topbar__title .page-of{ margin-left:0; font-size:.8em; opacity:.85; }
.topbar__title .sep{ opacity:.6; margin:0 .5em; }
.meta{ display:flex; gap:1ch; margin:0; justify-content: flex-end; align-items:flex-start; flex-wrap: nowrap; }
.meta__item{ min-width:0; flex: 0 1 auto; }
.meta__item dt{ opacity:.85; font-size:9.5pt; }
/* メタテキストは2行クランプ（高さ固定）、右寄せ・折返し */
.meta__item dd{
  margin:0; font-size:10.5pt; font-weight:700;
  max-width:100%; white-space: normal; text-align: left;
  overflow-wrap:anywhere; word-break:break-word;
  display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:2; overflow:hidden; text-overflow:ellipsis;
}
/* Office name small when too long */
.meta__office--small{ line-height: 1.2; }
.meta__item dd.meta__office--small{ font-size: 50%; -webkit-line-clamp:2; }
/* Driver name small when too long */
.meta__name--small{ line-height: 1.2; }
.meta__item dd.meta__name--small{ font-size: 50%; -webkit-line-clamp:2; }
/* Office name: force earlier breaks to avoid layout push */
.meta__office{ overflow-wrap:anywhere; word-break: break-all; }

/* ===== KPI 行 ===== */
.headline{
  display:flex; align-items:flex-end; justify-content:flex-end; gap:6mm; padding:0 2mm;
}
.headline__label{ color:var(--blue-700); font-size:10pt; }
.headline__value{ font-size:22pt; font-weight:800; line-height:1; }
.headline__rank{ color:var(--ink-400); font-size:10pt; }

.sidou-headline{
  display:flex; flex-direction: column; align-items:flex-start; justify-content:flex-start;   gap:1mm; padding:0 2mm;
}
.sidou-item-number-label{ color:var(--blue-700); font-size:10pt; text-align: left; font-weight: bold; }

.sidou-border-box{
  border: 1px solid var(--blue-700);
  border-radius: 4px;
  min-height: 16mm;
  width: 100%;
  padding: 2mm;
}

.sidou-example-text{
  color: var(--ink-600);
  font-size: 9pt;
  margin-top: 1mm;
}

.sidou-checkbox-text{
  color: var(--ink-600);
  font-size: 9pt;
  margin-top: auto;
  vertical-align: text-top; /* 調整 */
}

.checkbox-square{
  font-size: 2em;
  margin-right: 0.2em;
  vertical-align: -0.20em; /* 文言と縦位置があうように調整 */
  line-height: 1;
}

.sidou-content-headline{
  margin-top: 10mm;
}

.sidou-driver-response-headline{
  margin-top: 10mm;
}

.sidou-content-border-box{
  border: 1px solid var(--blue-700);
  border-radius: 4px;
  min-height: 80mm;
  width: 100%;
  padding: 2mm;
  margin-top: 1mm;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

/* ===== ハイライト3カード ===== */
.highlights{
  display:grid; grid-template-columns:1fr 1fr 1fr; gap:5mm;
}

/* 違反疑いシーン一覧 見出し */
.violations-scene-title{
  color: var(--blue-700);
  text-align: left;
  font-weight: 700;
  font-size: 10.5pt; 
  margin-bottom: 0.0mm;
}
/* ページ内ページ数 (X / N) の控えめな表示 */
.violations-scene-title .page-of{
  margin-left: 4mm;
  font-size: 9.5pt;
  color: var(--ink-600);
}

/* ===== 違反疑いシーン一覧（モック） ===== */
.scenes-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  border-style: solid;
  border-color: var(--line);
  border-width: 0 0 1px 0; /* 下線のみ */
  background: var(--panel);
  margin-top: 0.0mm;
}
.scenes-table thead th {
  background: transparent;
  padding: 2.5mm 4mm;
  font-size: 9pt;
  font-weight: 700;
  color: var(--ink-600);
  text-align: center; /* ヘッダ中央寄せ */
  border-bottom: 1px solid var(--line);
  border-top: none; /* 上線削除 */
}
.scenes-table th, .scenes-table td {
  padding: 2.5mm 4mm;
  text-align: left;
  vertical-align: top;
  border: none;
  border-top: 1px solid var(--line);
  font-size: 10pt;
}
.scenes-table td.scenes-year {
  font-size: 16pt;
  font-weight: 800;
  color: var(--ink-900);
  width: 20mm;
}
.scenes-table td.scenes-date { width: 16mm; font-weight: 700; }
.scenes-table td.scenes-time { width: 16mm; }
.scenes-table td.scenes-item { color: var(--ink-900); }
.scenes-table td.scenes-actions { width: 36mm; }

.scenes-item--danger { color: var(--red-600); font-weight: 700; }
.scenes-item--warn   { color: #8a5b00; font-weight: 700; }
.scenes-item-icon { margin-right: 3mm; opacity: .9; }

.scenes-btn {
  display: inline-flex;
  align-items: center;
  gap: 3mm;
  padding: 1.5mm 4mm;
  border: 1px solid var(--blue-700);
  color: var(--blue-700);
  background: #fff;
  border-radius: 3mm;
  font-size: 9pt;
  font-weight: 700;
  text-decoration: none;
  white-space: nowrap;
}
.scenes-btn:hover { filter: brightness(0.95); }
.scenes-btn .icon { font-size: 10pt; line-height: 1; }
.hl{
  background: var(--panel);
  border:1px solid var(--line);
  border-radius:8px;
  padding:4mm;
  display:grid; gap:3mm;
  min-height:36mm;
}
.hl__divider{ border-top:1px solid var(--line); }
.hl__band{
  font-weight:800; font-size:10pt; color:#fff;
  padding:2mm 3mm; border-radius:6px; text-align: center;
}

/* body_sasetumae.ejs 用のハイライトバンドスタイル */
.hl__band--sasetumae {
  background: none;
  color: var(--blue-700);
  text-align: left;
  display: flex; /* Flexboxを有効にする */
  justify-content: space-between; /* 要素を両端に寄せる */
  align-items: center; /* 垂直方向中央揃え */
}

.hl__risk-count {
  position: relative; /* 追加 */
  margin-left: auto; /* 左側のマージンを自動調整して右寄せにする */
  font-weight: 800; /* 太字にする */
  color: black; /* 文字色を黒に */
  display: flex; /* 追加 */
  flex-direction: column; /* 追加 */
}

.hl__main-value {
  font-size: 16.5pt; /* 危険疑い回数/割合のフォントサイズ */
}

.hl__sub-value {
  color: var(--ink-600);
  font-size: 7pt; /* (違反回数/合計回数)のフォントサイズ */
}

.hl__value-with-exclamation {
  position: relative;
  display: inline-block; /* !を配置するために必要 */
}

.hl__value-with-exclamation::after {
  content: '!';
  position: absolute;
  top: -1.0em; /* 上に少しずらす */
  font-size: 0.6em; /* 親要素に対する相対サイズ */
  color: var(--red-600); /* 赤色にする */
  font-weight: bold;
  transform: translateX(1%);
}

.hl--danger .hl__value-with-exclamation::after {
  background-color: var(--red-600); /* 赤色 */
  color: white; /* 白 */
  padding: 0.1em 0.6em; /* 四角にするためのパディング */
  border-radius: 2px; /* 少し角を丸める */
  top: -1.6em; /* 上下位置の微調整用 */
  right: -3.0em; /* 左右位置の微調整用 */
}

.hl--warn .hl__value-with-exclamation::after {
  background-color: var(--amber-600);
  color: white;
  padding: 0.1em 0.6em;
  border-radius: 2px;
  top: -1.5em; /* 上下位置の微調整用 */
  right: -3.8em; /* 左右位置の微調整用 */
}

/* .hl__band--sasetumae が適用されている場合は、以下の背景色を無効化 */
.hl--danger .hl__band.hl__band--sasetumae,
.hl--warn .hl__band.hl__band--sasetumae,
.hl--good .hl__band.hl__band--sasetumae {
  background: none;
  color: var(--blue-700); /* 色も確実に適用されるように再指定 */
  text-align: left; /* 配置も確実に適用されるように再指定 */
}

.hl--danger .hl__band{ background:var(--red-600); }
.hl--warn   .hl__band{ background:var(--amber-600); }
.hl--good   .hl__band{ background:var(--green-600); }
.hl__title{ margin:0; font-size:12pt; font-weight:800; text-align: center; }
.hl__text{ margin:0; color:var(--ink-600); font-size:9.5pt; }

/* ===== セクション（テーブル） ===== */
.group-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  border: 1px solid var(--line);
}
.group-table + .group-table {
  margin-top: 3mm;
}

.summary-frame {
  border: 1px solid var(--line);
  padding: 3mm 10mm;
  margin-top: 10mm;
  border-radius: 8px;
  min-height: 10mm;
  background-color: var(--panel);
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.summary-column {
  flex: 1;
  padding: 0 5mm;
}

.left-column {
  text-align: left;
  font-weight: 600;
  color: var(--ink-900);
  font-size: 10.5pt;
}

.right-column {
  text-align: right;
}

.play-button-mock {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 12mm;
  height: 8mm;
  background-color: var(--red-600);
  color: #fff;
  padding: 0;
  border-radius: 3mm;
  font-size: 10pt;
  font-weight: 600;
  cursor: pointer;
  box-shadow: none;
  transition: all 0.2s ease-in-out;
  text-decoration: none;
  overflow: hidden;
}

.play-button-mock:hover {
  transform: scale(1.05);
  box-shadow: none;
}

.play-icon {
  font-size: 10pt;
  line-height: 1;
  transform: translateX(0.5mm);
}
.group-table thead th {
  background: #f6f9ff; /* Reverted color */
  padding: 2.5mm 4mm;
  font-size: 9pt;
  font-weight: 700;
  color: var(--ink-600);
  text-align: left; /* Changed to left */
  border-bottom: 1px solid var(--line);
  height: 6.5mm; /* Keep height here */
  line-height: 6.5mm; /* ADDED */
}
.group-table thead tr:first-child th:first-child {
  border-top-left-radius: 8px;
}
.group-table thead tr:first-child th:last-child {
  border-top-right-radius: 8px;
}


.group-table th, .group-table td {
  padding: 2.5mm 4mm;
  text-align: left;
  vertical-align: top;
  border: none;
  border-top: 1px solid var(--line);
  font-size: 10pt;
}
.group-table tbody tr:first-child td {
  border-top: none; /* No top border for the first row */
}
.group-table .row--danger{ background: var(--red-050); }
.group-table .row--warn  { background: var(--amber-050); }
.group-table .row--good  { background: var(--green-050); }

/* Column widths and alignments */
.group-table .cell--no    { width: 20mm; } /* Removed text-align */
.group-table .cell--name  { width: 45mm; } /* Set width */
.group-table .cell--tag   { width: 23mm; } /* Adjusted */
.group-table .cell--rate  { width: 42mm; } /* Increased */
.group-table .cell--count { width: 28mm; } /* Reduced */
.group-table .cell--page  { width: 28mm; text-align: left; } /* Changed to left */

/* Cell content styles (reusing old classes) */
.no{
  display:inline-grid; place-items:center;
  min-width:9mm; height:9mm; padding:0 2mm;
  background: linear-gradient(#f8fbff,#e9f2ff);
  border:1px solid #dfe9ff; border-radius:2px; /* Changed */
  font-weight:800; color:#2a5db6;
}
.cell--name{ font-weight:700; }
.cell--tag{
  font-weight:800;
  border-radius:2px; /* Changed */
  color:#9b1b1b;
}
.row--warn .cell--tag{ color:#8a5b00; }
.row--good .cell--tag{ color:#1b7a22; }
.rate{ font-size:11pt; font-weight:800; line-height:1; }
.detail{ font-size:8.5pt; color:var(--ink-600); }
.cell--count{ font-weight:800; }
.btn{
  display: inline-block;
  padding: 1.5mm 3mm; border:1px solid #cfe1ff; border-radius:2px; /* Changed */
  font-size:9pt; color:#2a5db6; background:#f6faff;
  white-space: nowrap; /* Prevent wrapping */
}
/* Anchor-style buttons should not show underline */
.btn, .btn:visited, .btn:hover, .btn:active{ text-decoration: none; }

.group-table tbody .cell--rate {
  display: flex;
  align-items: baseline;
  gap: 2mm;
}

/* ===== フッター ===== */
.footer{
  text-align:right; color:var(--ink-400); font-size:9pt;
}

/* 画面表示の見栄え */
@media screen{
  body.print-a4{ background:var(--bg); }
  .sheet{
    width: 210mm;
    min-height: 297mm;
    margin: 10px auto;
    padding: 15mm 12mm;
    background: #fff;
    box-shadow: 0 2px 30px rgba(0,0,0,.06);
  }
}

.hl__value-with-exclamation {
  position: relative;
  display: inline-block; /* !を配置するために必要 */
}

.hl__value-with-exclamation::after {
  content: '!';
  position: absolute;
  top: -1em; /* 上にさらにずらす */
  right: -0.8em; /* 右にさらにずらす */
  font-size: 0.6em; /* 親要素に対する相対サイズ */
  color: var(--red-600); /* 赤色にする */
  font-weight: bold;
}

/* .hl__band--sasetumae が適用されている場合は、以下の背景色を無効化 */
.hl--danger .hl__band.hl__band--sasetumae,
.hl--warn .hl__band.hl__band--sasetumae,
.hl--good .hl__band.hl__band--sasetumae {
  background: none;
  color: var(--blue-700); /* 色も確実に適用されるように再指定 */
  text-align: left; /* 配置も確実に適用されるように再指定 */
}

.hl--danger .hl__band{ background:var(--red-600); }
.hl--warn   .hl__band{ background:var(--amber-600); }
.hl--good   .hl__band{ background:var(--green-600); }
.hl__title{ margin:0; font-size:12pt; font-weight:800; text-align: center; }
.hl__text{ margin:0; color:var(--ink-600); font-size:9.5pt; }

/* ===== セクション（テーブル） ===== */
.group-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  border: 1px solid var(--line);
}
.group-table + .group-table {
  margin-top: 3mm;
}

.summary-frame {
  border: 1px solid var(--line);
  padding: 3mm 10mm;
  margin-top: 10mm;
  border-radius: 8px;
  min-height: 10mm;
  background-color: var(--panel);
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.summary-column {
  flex: 1;
  padding: 0 5mm;
}

.left-column {
  text-align: left;
  font-weight: 600;
  color: var(--ink-900);
  font-size: 10.5pt;
}

.right-column {
  text-align: right;
}

.play-button-mock {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 12mm;
  height: 8mm;
  background-color: var(--red-600);
  color: #fff;
  padding: 0;
  border-radius: 3mm;
  font-size: 10pt;
  font-weight: 600;
  cursor: pointer;
  box-shadow: none;
  transition: all 0.2s ease-in-out;
  text-decoration: none;
  overflow: hidden;
}

.play-button-mock:hover {
  transform: scale(1.05);
  box-shadow: none;
}

.play-icon {
  font-size: 10pt;
  line-height: 1;
  transform: translateX(0.5mm);
}
.group-table thead th {
  background: #f6f9ff; /* Reverted color */
  padding: 2.5mm 4mm;
  font-size: 9pt;
  font-weight: 700;
  color: var(--ink-600);
  text-align: left; /* Changed to left */
  border-bottom: 1px solid var(--line);
  height: 6.5mm; /* Keep height here */
  line-height: 6.5mm; /* ADDED */
}
.group-table thead tr:first-child th:first-child {
  border-top-left-radius: 8px;
}
.group-table thead tr:first-child th:last-child {
  border-top-right-radius: 8px;
}


.group-table th, .group-table td {
  padding: 2.5mm 4mm;
  text-align: left;
  vertical-align: top;
  border: none;
  border-top: 1px solid var(--line);
  font-size: 10pt;
}
.group-table tbody tr:first-child td {
  border-top: none; /* No top border for the first row */
}
.group-table .row--danger{ background: var(--red-050); }
.group-table .row--warn  { background: var(--amber-050); }
.group-table .row--good  { background: var(--green-050); }

/* Column widths and alignments */
.group-table .cell--no    { width: 20mm; } /* Removed text-align */
.group-table .cell--name  { width: 45mm; } /* Set width */
.group-table .cell--tag   { width: 23mm; } /* Adjusted */
.group-table .cell--rate  { width: 42mm; } /* Increased */
.group-table .cell--count { width: 28mm; } /* Reduced */
.group-table .cell--page  { width: 28mm; text-align: left; } /* Changed to left */

/* Cell content styles (reusing old classes) */
.no{
  display:inline-grid; place-items:center;
  min-width:9mm; height:9mm; padding:0 2mm;
  background: linear-gradient(#f8fbff,#e9f2ff);
  border:1px solid #dfe9ff; border-radius:2px; /* Changed */
  font-weight:800; color:#2a5db6;
}
.cell--name{ font-weight:700; }
.cell--tag{
  font-weight:800;
  border-radius:2px; /* Changed */
  color:#9b1b1b;
}
.row--warn .cell--tag{ color:#8a5b00; }
.row--good .cell--tag{ color:#1b7a22; }
.rate{ font-size:11pt; font-weight:800; line-height:1; }
.detail{ font-size:8.5pt; color:var(--ink-600); }
.cell--count{ font-weight:800; }
.btn{
  display: inline-block;
  padding: 1.5mm 3mm; border:1px solid #cfe1ff; border-radius:2px; /* Changed */
  font-size:9pt; color:#2a5db6; background:#f6faff;
  white-space: nowrap; /* Prevent wrapping */
}

.group-table tbody .cell--rate {
  display: flex;
  align-items: baseline;
  gap: 2mm;
}

/* ===== フッター ===== */
.footer{
  text-align:right; color:var(--ink-400); font-size:9pt;
}

/* 画面表示の見栄え */
@media screen{
  body.print-a4{ background:var(--bg); }
  .sheet{
    width: 210mm;
    min-height: 297mm;
    margin: 10px auto;
    padding: 15mm 12mm;
    background: #fff;
    box-shadow: 0 2px 30px rgba(0,0,0,.06);
  }
}

.hl__value-with-exclamation {
  position: relative;
  display: inline-block; /* !を配置するために必要 */
}

.hl__value-with-exclamation::after {
  content: '!';
  position: absolute;
  top: -1em; /* 上にさらにずらす */
  right: -0.8em; /* 右にさらにずらす */
  font-size: 0.6em; /* 親要素に対する相対サイズ */
  color: var(--red-600); /* 赤色にする */
  font-weight: bold;
}

/* .hl__band--sasetumae が適用されている場合は、以下の背景色を無効化 */
.hl--danger .hl__band.hl__band--sasetumae,
.hl--warn .hl__band.hl__band--sasetumae,
.hl--good .hl__band.hl__band--sasetumae {
  background: none;
  color: var(--blue-700); /* 色も確実に適用されるように再指定 */
  text-align: left; /* 配置も確実に適用されるように再指定 */
}

.hl--danger .hl__band{ background:var(--red-600); }
.hl--warn   .hl__band{ background:var(--amber-600); }
.hl--good   .hl__band{ background:var(--green-600); }
.hl__title{ margin:0; font-size:12pt; font-weight:800; text-align: center; }
.hl__text{ margin:0; color:var(--ink-600); font-size:9.5pt; }

/* ===== セクション（テーブル） ===== */
.group-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  border: 1px solid var(--line);
}
.group-table + .group-table {
  margin-top: 3mm;
}

.summary-frame {
  border: 1px solid var(--line);
  padding: 3mm 10mm;
  margin-top: 10mm;
  border-radius: 8px;
  min-height: 10mm;
  background-color: var(--panel);
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.summary-column {
  flex: 1;
  padding: 0 5mm;
}

.left-column {
  text-align: left;
  font-weight: 600;
  color: var(--ink-900);
  font-size: 10.5pt;
}

.right-column {
  text-align: right;
}

.play-button-mock {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 12mm;
  height: 8mm;
  background-color: var(--red-600);
  color: #fff;
  padding: 0;
  border-radius: 3mm;
  font-size: 10pt;
  font-weight: 600;
  cursor: pointer;
  box-shadow: none;
  transition: all 0.2s ease-in-out;
  text-decoration: none;
  overflow: hidden;
}

.play-button-mock:hover {
  transform: scale(1.05);
  box-shadow: none;
}

.play-icon {
  font-size: 10pt;
  line-height: 1;
  transform: translateX(0.5mm);
}
.group-table thead th {
  background: #f6f9ff; /* Reverted color */
  padding: 2.5mm 4mm;
  font-size: 9pt;
  font-weight: 700;
  color: var(--ink-600);
  text-align: left; /* Changed to left */
  border-bottom: 1px solid var(--line);
  height: 6.5mm; /* Keep height here */
  line-height: 6.5mm; /* ADDED */
}
.group-table thead tr:first-child th:first-child {
  border-top-left-radius: 8px;
}
.group-table thead tr:first-child th:last-child {
  border-top-right-radius: 8px;
}


.group-table th, .group-table td {
  padding: 2.5mm 4mm;
  text-align: left;
  vertical-align: top;
  border: none;
  border-top: 1px solid var(--line);
  font-size: 10pt;
}
.group-table tbody tr:first-child td {
  border-top: none; /* No top border for the first row */
}
.group-table .row--danger{ background: var(--red-050); }
.group-table .row--warn  { background: var(--amber-050); }
.group-table .row--good  { background: var(--green-050); }

/* Column widths and alignments */
.group-table .cell--no    { width: 20mm; } /* Removed text-align */
.group-table .cell--name  { width: 45mm; } /* Set width */
.group-table .cell--tag   { width: 23mm; } /* Adjusted */
.group-table .cell--rate  { width: 42mm; } /* Increased */
.group-table .cell--count { width: 28mm; } /* Reduced */
.group-table .cell--page  { width: 28mm; text-align: left; } /* Changed to left */

/* Cell content styles (reusing old classes) */
.no{
  display:inline-grid; place-items:center;
  min-width:9mm; height:9mm; padding:0 2mm;
  background: linear-gradient(#f8fbff,#e9f2ff);
  border:1px solid #dfe9ff; border-radius:2px; /* Changed */
  font-weight:800; color:#2a5db6;
}
.cell--name{ font-weight:700; }
.cell--tag{
  font-weight:800;
  border-radius:2px; /* Changed */
  color:#9b1b1b;
}
.row--warn .cell--tag{ color:#8a5b00; }
.row--good .cell--tag{ color:#1b7a22; }
.rate{ font-size:11pt; font-weight:800; line-height:1; }
.detail{ font-size:8.5pt; color:var(--ink-600); }
.cell--count{ font-weight:800; }
.btn{
  display: inline-block;
  padding: 1.5mm 3mm; border:1px solid #cfe1ff; border-radius:2px; /* Changed */
  font-size:9pt; color:#2a5db6; background:#f6faff;
  white-space: nowrap; /* Prevent wrapping */
}

.group-table tbody .cell--rate {
  display: flex;
  align-items: baseline;
  gap: 2mm;
}

/* ===== フッター ===== */
.footer{
  text-align:right; color:var(--ink-400); font-size:9pt;
}

/* 画面表示の見栄え */
@media screen{
  body.print-a4{ background:var(--bg); }
  .sheet{
    width: 210mm;
    min-height: 297mm;
    margin: 10px auto;
    padding: 15mm 12mm;
    background: #fff;
    box-shadow: 0 2px 30px rgba(0,0,0,.06);
  }
}
