@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;600;700;800&display=swap');

/* ===================================
 * 共通レイアウト／共有スタイル
 * =================================== */

/* ===== A4・印刷設定 ===== */
@page {
  size: A4;
  margin: 15mm 12mm; /* ページ余白の設定 */

  @bottom-right {
    content: counter(page) " / " counter(pages);
    font-family: "Noto Sans JP","Yu Gothic","Meiryo",system-ui,sans-serif;
    font-size: 9pt;
    color: var(--ink-400);
  }
}
* { box-sizing: border-box; }
html, body { height: 100%; }
body.print-a4 {
  margin: 0;
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
  font-family: "Noto Sans JP","Yu Gothic","Meiryo",system-ui,sans-serif;
  color: #0b1420;
}

/* カラートークン（近似） */
:root{
  --blue-700:#0D47A0; --blue-600:#082B60; --blue-100:#eaf2ff;
  --ink-900:#1E1E1E;  --ink-600:#767676;  --ink-400:#7f8ea4;
  --line:#E1EBF5;     --panel:#ffffff;    --bg:#f3f6fb;

  --red-600:#A0140A;  --red-050:#FFE1E1;
  --amber-600:#E6AA19;--amber-050:#FFF0DC;
  --green-600:#3CBE2D;--green-050:#E6FFE6;
  /* 固定メタ幅（右側の事業所/氏名エリア） */
  --meta-width: 32ch;
  /* ヒーロー用グラデーションカラー */
  --hero-grad-left: #0D47A0;
  --hero-grad-right: #082B60;
}

/* ===================================
 * 新概要ページ（モック）
 * =================================== */
.gaiyou-hero{
  background: linear-gradient(90deg,var(--hero-grad-left),var(--hero-grad-right));
  color:#fff;
  padding:2mm 3.5mm 2.4mm;
  border-radius:5px;
  display:flex;
  flex-direction:column;
  gap:1mm;
  box-shadow:0 2px 5px rgba(7,35,89,0.12);
}
.gaiyou-hero__head{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:5mm;
}
.gaiyou-hero__primary{
  display:flex;
  align-items:flex-end;
  gap:3mm;
  font-size:11pt;
  font-weight:700;
  letter-spacing:.06em;
}
.gaiyou-hero__separator{
  opacity:.8;
  font-size:10pt;
}
.gaiyou-hero__subtitle{
  font-size:9pt;
  font-weight:600;
}
.gaiyou-hero__org{
  font-size:7.5pt;
  font-weight:500;
  letter-spacing:.08em;
  white-space:nowrap;
}
.gaiyou-metaRow{
  display:flex;
  gap:1.6mm;
  padding:1.2mm 0 2.8mm;
  color:#111;
}
.gaiyou-metaRow__item{
  display:flex;
  align-items:center;
  gap:1mm;
  flex:1;
  font-size:7.5pt;
}
.gaiyou-metaRow__label{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:16mm;
  padding:0.4mm 1.2mm;
  border-radius:999px;
  background:#e5e7f0;
  font-weight:700;
  font-size:6.5pt;
  color:#1a1a1a;
}
.gaiyou-metaRow__value{
  font-weight:700;
  color:#111;
}

/* ===============================
 * detail page (video list)
 * =============================== */
.detail-risk{
  margin-top:1mm;
  display:flex;
  flex-direction:column;
  gap:0.6mm;
}
.detail-risk__row{
  display:flex;
  align-items:baseline;
  gap:3mm;
  flex-wrap:wrap;
}
.detail-risk__lead{
  margin:0;
  color:var(--blue-700);
  font-size:8pt;
  font-weight:700;
}
.detail-risk__title{
  font-size:14pt;
  font-weight:800;
  color:#0f1f3e;
}
.detail-list{
  margin-top:1.4mm;
  background:#fff;
  border-radius:6px;
  padding:2.4mm 3mm;
  box-shadow:0 1px 4px rgba(16,31,63,0.05);
  display:flex;
  flex-direction:column;
  gap:1.6mm;
}
.detail-list__header{
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.detail-list__title{
  font-size:9pt;
  font-weight:700;
  color:#1b2b47;
}
.detail-table{
  display:flex;
  flex-direction:column;
  border-radius:4px;
  overflow:hidden;
  border:1px solid #e4e8f1;
}
.detail-table__row{
  display:grid;
  grid-template-columns:10mm 26mm 1fr 28mm 32mm;
  align-items:stretch;
}
.detail-table__row--header{
  background:#f5f7fb;
  font-weight:700;
  color:#4a5670;
  font-size:7.5pt;
}
.detail-table__row--year{
  grid-template-columns:1fr;
  background:#f5f7fb;
  color:#4a5670;
  font-weight:700;
  font-size:7.2pt;
  padding:1.6mm 2mm;
}
.detail-table__row--tone{
  background:#fef6f6;
}
.detail-table__row--alert{
  background:#fff5f1;
}
.detail-table__cell{
  padding:1.4mm 1.6mm;
  display:flex;
  flex-direction:column;
  justify-content:center;
  gap:0.6mm;
}
.detail-table__icon{
  align-items:center;
  justify-content:center;
  font-weight:800;
  color:#b4261c;
  font-size:9pt;
}
.detail-table__date{
  font-weight:800;
  color:#0f1f3e;
  font-size:9pt;
  align-items:flex-start;
  justify-content:flex-start;
  text-align:left;
}
.detail-table__date--day{
  align-items:center;
  flex-direction:row;
  gap:1mm;
}
.detail-table__day{
  font-weight:800;
  font-size:10pt;
}
.detail-table__dow{
  font-size:7pt;
  margin-left:1mm;
}
.detail-table__time{
  font-size:7pt;
  color:#4a5670;
}
.detail-table__violation{
  color:#0f1f3e;
  font-size:8pt;
  font-weight:700;
  padding-left:10mm;
}
.detail-table__label{
  font-weight:700;
  white-space:pre-line;
  line-height:1.35;
  min-height:calc(1.35em * 2); /* 1行でも2行分の高さを確保 */
  display:flex;
  align-items:center;
}
.detail-table__sub{
  font-size:7pt;
  color:#6a748a;
}
.detail-table__danger{
  align-items:center;
  justify-content:center;
}
.detail-tag{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:1mm 2mm;
  border-radius:999px;
  font-size:7pt;
  font-weight:800;
  color:#8b1d19;
  background:#fbe1df;
  gap:1mm;
}
.detail-tag--danger{ background:#fbe1df; color:#8b1d19; }
.detail-tag--icon{ padding-left:2.4mm; padding-right:2.4mm; }
.detail-table__links{
  align-items:flex-end;
}
.detail-links{
  display:flex;
  gap:1.6mm;
  align-items:center;
  justify-content:flex-end;
}
.detail-linkBtn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:16mm;
  padding:1mm 2mm;
  border-radius:4px;
  font-weight:700;
  font-size:7pt;
  border:1px solid #1e6edc;
  color:#1e6edc;
}
.detail-linkBtn--primary{
  background:#1e6edc;
  color:#fff;
}
.detail-linkBtn--ghost{
  background:#fff;
}
.detail-note{
  margin-top:1mm;
  font-size:7pt;
  color:#4a5670;
}
.detail-memo{
  margin-top:1.4mm;
  background:#fff;
  border-radius:6px;
  padding:2.4mm 3mm;
  box-shadow:0 1px 4px rgba(16,31,63,0.05);
  display:flex;
  flex-direction:column;
  gap:1mm;
}
.detail-memo__title{
  font-weight:800;
  color:#1b2b47;
  font-size:9pt;
}
.detail-memo__desc{
  margin:0;
  font-size:7pt;
  color:#4a5670;
}
.detail-memo__box{
  margin-top:1mm;
  min-height:32mm;
  border:1px solid #d9e0f0;
  border-radius:4px;
  background:#fafdff;
}
.detail-memo__advisor{
  margin-top:3mm;
  padding-bottom:1mm;
  font-size:7pt;
  color:#1b2b47;
  display:flex;
  align-items:flex-end;
  gap:4mm;
  justify-content:flex-start;
}
.detail-memo__line{
  flex:0 0 42mm;
  width:42mm;
  border-bottom:1px solid #8d97ae;
  display:inline-block;
  height:0;
  transform: translateY(2mm);
}
.gaiyou-riskSummary{
  margin-top:1mm;
  display:flex;
  flex-direction:column;
  gap:0.8mm;
}
.gaiyou-riskSummary__lead{
  color:var(--blue-700);
  font-weight:700;
  margin:0;
  font-size:8pt;
}
.gaiyou-riskSummary__panel{
  background:#fff;
  border-radius:4px;
  border:1px solid transparent;
  padding:2mm 2.4mm;
  display:flex;
  align-items:center;
  justify-content:space-between;
  flex-wrap:wrap;
  gap:1.2mm;
  box-shadow:0 1px 4px rgba(16,31,63,0.05);
}
.gaiyou-riskSummary__title{
  font-size:14pt;
  font-weight:800;
  color:#052353;
}
.gaiyou-riskSummary__counts{
  display:flex;
  gap:2mm;
  flex-wrap:wrap;
}
.gaiyou-riskSummary__count{
  background:#fef1f1;
  color:#b4261c;
  border-radius:4px;
  padding:1.6mm 3mm;
  font-weight:700;
  display:flex;
  align-items:center;
  gap:2mm;
  font-size:7pt;
}
.gaiyou-riskSummary__count strong{
  font-size:9pt;
}
.gaiyou-checklist{
  margin-top:1mm;
  background:#fff;
  padding:2.6mm 3.2mm;
  border-radius:5px;
  border:1px solid transparent;
  box-shadow:0 1px 4px rgba(16,31,63,0.05);
}
.gaiyou-checklist h2{
  margin:0;
  font-size:10pt;
  color:#1b2b47;
}
.gaiyou-checklist header p{
  margin:1.2mm 0 0;
  color:var(--ink-600);
  font-size:9pt;
}
.gaiyou-checklist header p.gaiyou-checklist__note{
  font-size:7pt;
}
.gaiyou-checklist__cards{
  margin-top:0.6mm;
  display:flex;
  flex-direction:column;
  gap:1mm;
}
/* チェックカード: ベースとハイライト */
.gaiyou-checkCard{
  border:1px solid transparent;
  border-radius:6px;
  padding:2.2mm 3mm;
  background:#fff;
  box-shadow:0 1px 3px rgba(16,31,63,0.05);
}
.gaiyou-checkCard--highlight{
  background:#fef3f2;
  border-color:#f1b4ae;
}
.gaiyou-checkCard--filled{
  background:#fff;
  border-color:transparent;
}
.gaiyou-checkCard__head{
  display:flex;
  gap:2mm;
  align-items:flex-start;
}
.gaiyou-checkCard__checkbox{
  width:4mm;
  height:4mm;
  border:2px solid #c8ced8;
  border-radius:2px;
  margin-top:0.4mm;
  background:#fff;
}
.gaiyou-checkCard__checkbox--checked{
  background:#2f3a52;
  border-color:#2f3a52;
  position:relative;
}
.gaiyou-checkCard__checkbox--checked::after{
  content:'';
  position:absolute;
  top:40%;
  left:22%;
  width:45%;
  height:20%;
  border-left:2px solid #fff;
  border-bottom:2px solid #fff;
  transform:rotate(-45deg);
}
.gaiyou-checkCard__title{
  flex:1;
  font-weight:700;
  color:#1a2135;
  line-height:1.25;
  font-size:8.5pt;
}
/* タイトル＋件数の並びとチェックアイコン */
.gaiyou-checkCard__row{
  display:flex;
  gap:3mm;
  align-items:flex-start;
  flex-wrap:wrap;
  padding:0.4mm 0.6mm;
  border-radius:4px;
}
.gaiyou-checkCard__row--highlight{
  background:#e94c1c;
  color:#fff;
}
.gaiyou-checkCard__row--offset{
  margin-left:-1.6em;
}
.gaiyou-checkCard__checkRow{
  display:flex;
  align-items:flex-start;
  gap:1.4mm;
  margin-top:0.6mm;
}
.gaiyou-checkCard__row:not(.gaiyou-checkCard__row--highlight) .gaiyou-checkCard__checkRow span:last-child{
  color:#c02b16;
}
.gaiyou-checkCard__checkRow:first-child{ margin-top:0; }
.gaiyou-checkCard__checkIcon{
  width:3.4mm;
  height:3.4mm;
  border:1.5px solid #c02b16;
  border-radius:2px;
  display:inline-block;
  flex-shrink:0;
  margin-top:0.6mm;
}
.gaiyou-checkCard__checkIcon--checked{
  background:#2f3a52;
  border-color:#2f3a52;
  position:relative;
}
.gaiyou-checkCard__checkIcon--checked::after{
  content:'';
  position:absolute;
  top:42%;
  left:24%;
  width:42%;
  height:20%;
  border-left:1.5px solid #fff;
  border-bottom:1.5px solid #fff;
  transform:rotate(-45deg);
}
.gaiyou-checkCard__row.gaiyou-checkCard__row--highlight .gaiyou-checkCard__checkIcon{
  border-color:#fff;
}
.gaiyou-checkCard__row.gaiyou-checkCard__row--highlight .gaiyou-checkCard__checkIcon--checked{
  background:#fff;
  border-color:#fff;
}
.gaiyou-checkCard__row.gaiyou-checkCard__row--highlight .gaiyou-checkCard__checkIcon--checked::after{
  border-color:#ff7043;
}
.gaiyou-checkCard__metric{
  margin-top:0.5mm;
  font-size:7pt;
  color:#c02b16;
  font-weight:600;
}
.gaiyou-checkCard__metric--highlight{
  color:#ffffff;
}
.gaiyou-checkCard__row:not(.gaiyou-checkCard__row--highlight) .gaiyou-checkCard__metric{
  color:#c02b16;
}
/* 詳細・警告ブロック共通 */
.gaiyou-checkCard__block{
  margin-top:1.2mm;
}
.gaiyou-checkCard__block--outlined{
  border:1px solid #f1b4ae;
  border-radius:6px;
  padding:1.5mm 2mm;
  background:#fff;
}
.gaiyou-checkCard__block--warn{
  background:#fef3f2;
}
.gaiyou-checkCard__alert{
  margin:0;
  color:#c02b16;
  font-weight:700;
  font-size:7pt;
  background:#fff9f8;
  border:none;
  border-radius:0;
  padding:0.8mm 1.8mm;
  display:block;
  margin-left:-2mm;
  margin-right:-2mm;
}
.gaiyou-checkCard__alert--warn{
  background:#fff9f8;
  border:none;
  border-radius:0;
  padding:1.8mm 1.8mm;
  display:block;
  margin-left:-2mm;
  margin-right:-2mm;
}
.gaiyou-checkCard__note{
  margin:0;
  color:#424b63;
  font-size:7pt;
  line-height:1.4;
}
.gaiyou-checkCard__note--indent{
  padding-left:0;
}
.gaiyou-checkCard__divider{
  border:none;
  border-top:1px solid #f1b4ae;
  margin:1.2mm 0;
}
.gaiyou-scene{
  margin-top:0.8mm;
  background:#fff;
  border-radius:5px;
  border:1px solid transparent;
  padding:1.4mm 2.2mm 2mm;
  display:flex;
  flex-direction:column;
  gap:1mm;
  box-shadow:0 1px 4px rgba(16,31,63,0.05);
}
.gaiyou-scene header h2{
  margin:0;
  color:#1b2b47;
  font-size:10pt;
}
.gaiyou-scene header p{
  margin:0.6mm 0 0;
  color:var(--ink-600);
  font-size:7pt;
}
.gaiyou-scene__meta{
  display:flex;
  flex-direction:column;
  gap:2mm;
}
.gaiyou-scene__metaItem{
  display:flex;
  gap:1.2mm;
  align-items:baseline;
  flex-wrap:wrap;
  margin-bottom:0.5mm;
}
.gaiyou-scene__meta dt{
  font-weight:700;
  color:#334166;
  font-size:7pt;
  display:inline-block;
  margin:0;
}
.gaiyou-scene__meta dd{
  margin:0;
  color:#1a2135;
  line-height:1.35;
  font-size:7pt;
  display:inline;
}
.gaiyou-scene__media{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:1.4mm;
}
.gaiyou-mediaFrame{
  border-radius:4px;
  min-height:35mm;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  font-size:7pt;
  letter-spacing:.05em;
  color:#2f3a52;
  background:#f0f3fb;
}
.gaiyou-mediaFrame--video{
  background-image:linear-gradient(135deg,#18263d,#314a7a);
  color:#fff;
  padding:0;
  overflow:hidden;
}
.gaiyou-mediaFrame--map{
  background-image:linear-gradient(135deg,#dfeaff,#f1f4ff);
  color:#fff;
  padding:0;
  overflow:hidden;
}
.gaiyou-mediaFrame__link{
  display:block;
  width:100%;
  height:100%;
}
.gaiyou-mediaFrame__thumb{
  position:relative;
  width:100%;
  height:100%;
}
.gaiyou-mediaFrame__thumb img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}
.gaiyou-mediaFrame__cta{
  position:absolute;
  right:2.2mm;
  bottom:2.2mm;
  background:rgba(0,0,0,0.65);
  color:#fff;
  padding:2mm 3mm;
  border-radius:3px;
  font-size:7pt;
  font-weight:700;
  letter-spacing:.05em;
}
.gaiyou-mediaFrame__cta--map{
  background:rgba(0,0,0,0.65);
}
.gaiyou-mediaFrame__fallback{
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  font-size:7pt;
  letter-spacing:.05em;
  color:#2f3a52;
  background:linear-gradient(135deg,#dfeaff,#f1f4ff);
  display:none;
}
.gaiyou-mediaFrame__fallback--show{display:flex;}
.gaiyou-legend{
  margin-top:1mm;
  border:1px solid transparent;
  border-radius:5px;
  background:#f7f9ff;
  padding:1.4mm 2.6mm;
  display:flex;
  flex-direction:column;
  gap:1mm;
  color:#4b5571;
  font-size:7pt;
  line-height:1.3;
}
.gaiyou-pager{
  margin-top:2.8mm;
  text-align:center;
  color:#7b869f;
  font-weight:700;
  font-size:8.5pt;
}

/* A4 1枚のシート */
.sheet{
  display:grid; gap:1.5mm;
  align-content: start;
  page-break-after: always;
}

.sheet--break {
  page-break-before: always;
}

/* ===== ヘッダー（青帯） ===== */
.topbar{
  background: linear-gradient(90deg, var(--blue-700), var(--blue-600));
  color:#fff; border-radius:6px; padding:6mm 8mm;
  /* タイトル（左）とメタ（右）を固定2カラムで配置 */
  display:grid; grid-template-columns: 1fr var(--meta-width); align-items:center;
}
.topbar__title{ margin:0; font-size:16pt; font-weight:800; letter-spacing:.02em; white-space: nowrap; }
.topbar__title .page-of{ margin-left:0; font-size:.8em; opacity:.85; }
.topbar__title .sep{ opacity:.6; margin:0 .5em; }
.meta{ display:flex; gap:1ch; margin:0; justify-content: flex-end; align-items:flex-start; flex-wrap: nowrap; }
.meta__item{ min-width:0; flex: 0 1 auto; }
.meta__item dt{ opacity:.85; font-size:9.5pt; }
/* メタテキストは2行クランプ（高さ固定）、右寄せ・折返し */
.meta__item dd{
  margin:0; font-size:10.5pt; font-weight:700;
  max-width:100%; white-space: normal; text-align: left;
  overflow-wrap:anywhere; word-break:break-word;
  display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:2; overflow:hidden; text-overflow:ellipsis;
}
/* 事業所名が長い場合の縮小 */
.meta__office--small{ line-height: 1.2; }
.meta__item dd.meta__office--small{ font-size: 50%; -webkit-line-clamp:2; }
/* ドライバー名が長い場合の縮小 */
.meta__name--small{ line-height: 1.2; }
.meta__item dd.meta__name--small{ font-size: 50%; -webkit-line-clamp:2; }
/* 事業所名は早めに改行してレイアウト崩れを防ぐ */
.meta__office{ overflow-wrap:anywhere; word-break: break-all; }

/* ===== ハイライト3カード ===== */
.highlights{
  display:grid;
  grid-template-columns:1fr 1fr 1fr;
  gap:4.8mm;
  padding:0 1mm;
}

.hl{
  background: var(--panel);
  border:1px solid var(--line);
  border-radius:8px;
  padding:6mm 5mm;
  display:flex;
  flex-direction:column;
  gap:3.5mm;
  min-height:56mm;
  max-height:56mm;
  overflow:hidden;
  position:relative;
}
.hl__divider{
  position:absolute;
  left:5mm;
  right:5mm;
  top:20.5mm;
  border-top:1px solid var(--line);
}
.hl__text{
  margin:0;
  color:var(--ink-900);
  font-size:9.5pt;
  line-height:1.35;
  display:-webkit-box;
  -webkit-line-clamp:6;
  -webkit-box-orient:vertical;
  overflow:hidden;
}
.hl__band{
  font-weight:800; font-size:10pt; color:#fff;
  padding:2mm 3mm;
  border-radius:6px;
  text-align:center;
  min-height:12mm;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:2mm;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.hl__band-label{ font-weight:inherit; }
.hl__band-icon{
  width:4.6mm;
  height:4.6mm;
  object-fit:contain;
}

/* body_sasetumae.ejs 用のハイライトバンドスタイル */
.hl--danger .hl__band{ background:var(--red-600); }
.hl--warn   .hl__band{ background:var(--amber-600); }
.hl--good   .hl__band{ background:var(--green-600); }
.hl__title{
  margin:0;
  font-size:12pt;
  font-weight:800;
  text-align:center;
  line-height:1.3;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* ===== フッター ===== */
.footer{
  text-align:right;
  color:var(--ink-400);
  font-size:9pt;
}

/* ===================================
 * 概要ページ用スタイル
 * =================================== */

/* ===== KPI 行 ===== */
.headline{
  display:flex;
  align-items:flex-end;
  justify-content:flex-end;
  gap:6mm;
  padding:0 2mm;
}
.headline__label{ color:var(--blue-700); font-size:10pt; }
.headline__value{ font-size:22pt; font-weight:800; line-height:1; }
.headline__value-percent{
  font-size:0.75em;
  margin-left:0.1em;
  vertical-align:baseline;
}
.headline__rank{ color:var(--ink-400); font-size:10pt; }

.highlights--summary .hl{
  padding-top:16mm;
}
.highlights--summary .hl__divider{
  position:absolute;
  left:5mm;
  right:5mm;
  top:23mm;
  border-top:1px solid var(--line);
  margin:0;
}
.highlights--summary .hl__text{
  margin-top:3mm;
}
.highlights--summary .hl__band{
  position:absolute;
  top:-1mm;
  left:0;
  right:0;
  height:12mm;
  padding:0 5mm;
  border-radius:8px 8px 0 0;
}
.highlights--summary .hl__title{
  margin-top:-2mm;
}

/* ===== セクション（テーブル） ===== */
.group-table {
  width: calc(100% - 1mm);
  border-collapse: separate;
  border-spacing: 0;
  border: 1px solid var(--line);
  border-radius: 8px;
  overflow: hidden;
  margin-right: 2mm;
}
.group-table + .group-table {
  margin-top: 3mm;
}

.summary-frame {
  border: 1px solid var(--line);
  padding: 3mm 10mm;
  margin-top: 10mm;
  border-radius: 8px;
  min-height: 10mm;
  background-color: var(--panel);
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.summary-column {
  flex: 1;
  padding: 0 5mm;
}

.left-column {
  text-align: left;
  font-weight: 600;
  color: var(--ink-900);
  font-size: 10.5pt;
}

.right-column {
  text-align: right;
}

.play-button-mock {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 12mm;
  height: 8mm;
  background-color: var(--red-600);
  color: #fff;
  padding: 0;
  border-radius: 3mm;
  font-size: 10pt;
  font-weight: 600;
  cursor: pointer;
  box-shadow: none;
  transition: all 0.2s ease-in-out;
  text-decoration: none;
  overflow: hidden;
}

.play-button-mock:hover {
  transform: scale(1.05);
  box-shadow: none;
}

.play-icon {
  font-size: 10pt;
  line-height: 1;
  transform: translateX(0.5mm);
}
.group-table thead th {
  background: #fff;
  padding: 2.5mm 1.2mm;
  font-size: 9pt;
  font-weight: 700;
  color: var(--ink-600);
  text-align: center;
  border-bottom: 1px solid var(--line);
  height: 6.5mm;
  line-height: 6.5mm;
}
.group-table thead .cell--no { text-align: left; }
.group-table thead .cell--page { padding-right: 0; }

.group-table th,
.group-table td {
  padding: 2.5mm 1mm;
  text-align: left;
  vertical-align: top;
  border: none;
  border-top: 1px solid var(--line);
  font-size: 10pt;
}
.group-table tbody tr:first-child td {
  border-top: none;
}
.group-table .row--danger{ background: var(--red-050); }
.group-table .row--warn  { background: var(--amber-050); }
.group-table .row--good  { background: var(--green-050); }

/* 列幅と配置 */
.group-table .cell--no    { width: 20mm; }
.group-table .cell--name  { width: 28mm; }
.group-table .cell--tag   { width: 26mm; }
.group-table .cell--rate  { width: 38mm; }
.group-table .cell--count { width: 22mm; }
.group-table .cell--page  { width: 22mm; }
.group-table tbody .cell--page { text-align: left; }

/* セル内コンテンツのスタイル */
.no{
  display:inline-grid;
  place-items:center;
  min-width:7mm;
  height:7mm;
  padding:0 1.2mm;
  background:#fff;
  border:1px solid #2a5db6;
  border-radius:1mm;
  font-weight:900;
  color:#2a5db6;
}
.cell--name{ font-weight:700; }
.cell--tag .tags{
  display:flex;
  flex-direction:row;
  flex-wrap:wrap;
  gap:1mm;
  align-items:center;
  justify-content:center;
}
.tag-pill{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:5mm;
  min-height:6mm;
  padding:0.8mm 1.7mm;
  border-radius:2px;
  font-weight:800;
  font-size:9pt;
  line-height:1;
  color:#fff;
  background: var(--ink-900);
  letter-spacing:.05em;
  box-shadow:0 0 0 0.2mm rgba(0,0,0,0.05);
}
.tag-pill__icon{
  width:3.6mm;
  height:3.6mm;
  object-fit:contain;
}
.tag-pill--danger{ background: var(--red-600); }
.tag-pill--warn  { background: var(--amber-600); }
.tag-pill--good  { background: var(--green-600); }
.cell--tag{
  font-weight:800;
  border-radius:2px;
  color:#9b1b1b;
}
.row--warn .cell--tag{ color:inherit; }
.row--good .cell--tag{ color:inherit; }
.rate{
  display:inline-flex;
  align-items:baseline;
  gap:0.8mm;
  font-size:15pt;
  font-weight:800;
  line-height:1;
}
.rate__number{ font-weight:inherit; }
.rate__unit{
  font-size:0.66em;
  font-weight:700;
}
.risk-count{
  display:inline-flex;
  align-items:baseline;
  gap:0.8mm;
  font-size:15pt;
  font-weight:800;
  line-height:1;
}
.risk-count__number{ font-weight:inherit; }
.risk-count__unit{
  font-size:0.66em;
  font-weight:700;
}
.detail{ font-size:8.5pt; color:var(--ink-900); }
.cell--count{ font-weight:800; }
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:3mm;
  min-height:7mm;
  padding:0 1.5mm;
  width:20mm;
  border:1px solid var(--line);
  border-radius:1mm;
  font-size:8pt;
  color:#2a5db6;
  background:#fff;
  white-space:nowrap;
}
.btn__label{
  display:inline-flex;
  align-items:baseline;
  gap:1mm;
}
.btn__number{
  font-size:10pt;
  font-weight:800;
  line-height:1;
}
.btn__arrow{
  width:2mm;
  height:2mm;
  object-fit:contain;
}
.btn__text{
  font-size:4.5pt;
  font-weight:700;
}
.btn,
.btn:visited,
.btn:hover,
.btn:active{
  text-decoration:none;
}

.rate-wrapper{
  display:flex;
  align-items:baseline;
  gap:2mm;
}
.risk-wrapper{
  display:flex;
  align-items:baseline;
  gap:2mm;
}

/* ===================================
 * 詳細ページ用スタイル
 * =================================== */

/* 違反疑いシーン一覧 見出し */
.violations-scene-title{
  color: var(--blue-700);
  text-align: left;
  font-weight: 700;
  font-size: 10.5pt;
  margin-bottom: 0;
}
.violations-scene-title .page-of{
  margin-left: 4mm;
  font-size: 9.5pt;
  color: var(--ink-600);
}

/* ===== 違反疑いシーン一覧（テーブル） ===== */
.scenes-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  border-style: solid;
  border-color: var(--line);
  border-width: 0 0 1px 0;
  background: var(--panel);
  margin-top: 0;
}
.scenes-table thead th {
  background: transparent;
  padding: 2.5mm 4mm;
  font-size: 9pt;
  font-weight: 700;
  color: var(--ink-600);
  text-align: center;
  border-bottom: 1px solid var(--line);
  border-top: none;
}
.scenes-table th,
.scenes-table td {
  padding: 2.5mm 4mm;
  text-align: left;
  vertical-align: top;
  border: none;
  border-top: 1px solid var(--line);
  font-size: 10pt;
}
.scenes-table td.scenes-year {
  font-size: 16pt;
  font-weight: 800;
  color: var(--ink-900);
  width: 20mm;
}
.scenes-table td.scenes-date { width: 16mm; font-weight: 700; }
.scenes-table td.scenes-time { width: 16mm; }
.scenes-table td.scenes-item { color: var(--ink-900); }
.scenes-table td.scenes-actions { width: 36mm; }

.scenes-item-icon { margin-right: 3mm; opacity: .9; }
.scenes-item-icon__img {
  display: inline-block;
  width: auto;
  height: 7mm;
  object-fit: contain;
}

.scenes-btn {
  display: inline-flex;
  align-items: center;
  gap: 3mm;
  padding: 1.5mm 4mm;
  border: 1px solid var(--blue-700);
  color: var(--blue-700);
  background: #fff;
  border-radius: 1mm;
  font-size: 9pt;
  font-weight: 700;
  text-decoration: none;
  white-space: nowrap;
}
.scenes-btn:hover { filter: brightness(0.95); }
.scenes-btn__icon {
  width: 4mm;
  height: 4mm;
  object-fit: contain;
}

.highlights--detail .hl{
  min-height:48mm;
  max-height:48mm;
  padding:5mm 4mm 4mm;
  gap:1mm;
  position:relative;
}
.highlights--detail .hl__divider{
  top:15.5mm;
}
.hl__text-detail{
  position:absolute;
  left:5mm;
  right:5mm;
  top:18.5mm;
  bottom:6.5mm;
  margin:0;
  color:var(--ink-900);
  font-size:9.5pt;
  line-height:1.35;
  display:-webkit-box;
  -webkit-line-clamp:6;
  -webkit-box-orient:vertical;
  overflow:hidden;
}

/* body_sasetumae.ejs 用のハイライトバンドスタイル */
.hl__band--sasetumae {
  background:none;
  color: var(--blue-700);
  text-align:left;
  display:flex;
  align-items:flex-start;
  justify-content:flex-start;
  gap:2mm;
  min-height:8mm;
  width:100%;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.highlights--detail .hl__band--sasetumae {
  min-height:8mm;
  padding:1mm 0 0;
  margin-bottom:1.2mm;
  gap:1.5mm;
  transform: translateX(-3mm);
}
.hl__band-meta{
  margin-left:auto;
  display:flex;
  align-items:flex-end;
  gap:1mm;
}
.hl__band-metaRiskNumber{
  font-size:18pt;
  font-weight:800;
  color:var(--ink-900);
  line-height:0.9;
  transform: translateY(-0.6mm);
}
.hl__band-metaRiskUnit{
  font-size:9.5pt;
  font-weight:700;
  color:var(--ink-900);
  line-height:0.9;
  margin-bottom:1mm;
}
.hl__band-meta--warn{
  margin-left:auto;
  display:flex;
  flex-direction:column;
  align-items:flex-end;
  gap:0.4mm;
}
.hl__band-metaWarnTop{
  display:flex;
  align-items:flex-end;
  gap:1mm;
}
.hl__band-metaWarnNumber{
  font-size:16pt;
  font-weight:800;
  color:var(--ink-900);
  line-height:0.9;
  transform: translateY(-0.4mm);
}
.hl__band-metaWarnUnit{
  font-size:9.5pt;
  font-weight:700;
  color:var(--ink-900);
  line-height:0.9;
  margin-bottom:1mm;
}
.hl__band-metaWarnCaption{
  font-size:6pt;
  font-weight:600;
  color:var(--ink-900);
  text-align:right;
}
.hl--danger .hl__band.hl__band--sasetumae,
.hl--warn .hl__band.hl__band--sasetumae,
.hl--good .hl__band.hl__band--sasetumae {
  background: none;
  color: var(--blue-700);
  text-align: left;
}

.hl--detail-card{
  display:flex;
  flex-direction:column;
  gap:2mm;
}
.hl__band--sasetumae .hl__band-left{
  display:flex;
  align-items:center;
  gap:1.6mm;
}
.hl__band-iconBadge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:4mm;
  height:4mm;
  box-shadow:0 1px 2px rgba(0,0,0,0.12);
  transform: translateY(-0.2mm);
  border-radius:0;
}
.hl__band-iconBadge--danger{ background:var(--red-600); }
.hl__band-iconBadge--warn{ background:var(--amber-600); }
.hl__band-iconBadgeImg{
  width:2.6mm;
  height:2.6mm;
  object-fit:contain;
}

/* ===================================
 * 指導記入ページ用スタイル
 * =================================== */

.sidou-headline{
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  justify-content:flex-start;
  gap:1mm;
  padding:0 2mm;
}
.sidou-item-number-label{ color:var(--blue-700); font-size:10pt; text-align:left; font-weight:bold; }

.sidou-border-box{
  border: 1px solid var(--line);
  border-radius: 4px;
  min-height: 16mm;
  width: 100%;
  padding: 2mm;
}

.sidou-example-text{
  color: var(--ink-900);
  font-size: 9pt;
  margin-top: 1mm;
}

.sidou-checkbox-text{
  color: var(--ink-900);
  font-size: 9pt;
  margin-top: auto;
  vertical-align: text-top;
}

.checkbox-square{
  font-size: 2em;
  margin-right: 0.2em;
  vertical-align: -0.20em;
  line-height: 1;
}

.sidou-content-headline{
  margin-top: 2mm;
}

.sidou-driver-response-headline{
  margin-top: 2mm;
}

.sidou-content-border-box{
  border: 1px solid var(--line);
  border-radius: 4px;
  min-height: 90mm;
  width: 100%;
  padding: 2mm;
  margin-top: 1mm;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

/* 画面表示の見栄え */
@media screen{
  body.print-a4{ background:var(--bg); }
  .sheet{
    width: 210mm;
    min-height: 297mm;
    margin: 10px auto;
    padding: 15mm 12mm;
    background: #fff;
    box-shadow: 0 2px 30px rgba(0,0,0,.06);
  }
}
